webpackJsonp([1],{"7zck":function(t,e){},"9x/0":function(t,e){},"AR/V":function(t,e){},BmWo:function(t,e){},KtiA:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),r={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]},n=s("VU/8")({data:function(){return{clipped:!1,drawer:!0,fixed:!1,items:[{icon:"bubble_chart",title:"Inspire"}],miniVariant:!1,right:!0,rightDrawer:!1,title:"Vuetify.js"}},name:"App"},r,!1,null,null,null).exports,i=s("/ocq"),l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{dark:""}},[s("v-container",{attrs:{fluid:"","fill-height":"","grid-list-md":""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[s("v-flex",{staticClass:"xs12 sm6 md4 lg4 lx4"},[s("v-card",[s("v-container",{attrs:{fluid:""}},[s("v-form",{ref:"form"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Pasword","solo-inverted":"",rules:[function(t){return!!t||" Required"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-btn",{attrs:{flat:"",color:"deep-orange",block:""},on:{click:t.auth}},[t._v("Auth")])],1)],1)],1)],1)],1)],1)],1),t._v(" "),s("v-snackbar",{attrs:{timeout:2e3,top:""},model:{value:t.errorAuth,callback:function(e){t.errorAuth=e},expression:"errorAuth"}},[t._v("\n\n          wrong password\n          "),s("v-btn",{attrs:{color:"deep-orange",flat:""},on:{click:function(e){t.errorAuth=!1}}},[t._v("\n              Close\n          ")])],1)],1)],1)},staticRenderFns:[]};var o=s("VU/8")({data:function(){return{password:null,errorAuth:!1}},methods:{auth:function(){var t=this;this.$refs.form.validate()&&this.$store.dispatch("asyncAuth",this.password).then(function(e){t.$router.push("/")}).catch(function(e){t.errorAuth=!0})}}},l,!1,function(t){s("BmWo")},null,null).exports,u=s("NYxO"),c=s("mtWM"),d=s.n(c);const v=window.link||"http://192.168.0.103:5000";a.default.use(u.a),d.a.interceptors.response.use(t=>t,function(t){return Promise.reject(t.response)});const p=new u.a.Store({state:{auth:!1,password:null,channelsWithPackage:null,operator:null,packages:null,users:null,history:null,channels:null},mutations:{popup(t,e){t.popup=e},setChannels(t,e){t.channels=e.channels,t.channelsWithPackage=e.channelsWithPackage},editChannel(t,e){t.editChannel=t.channels.find(t=>t.channelId==e)},deleteChannel(t,e){t.deleteChannel=t.channels.find(t=>t.id==e)},auth(t,e){t.auth=!0,t.password=e.key,t.operator=e},setOperators(t,e){t.operators=e},setUsers(t,e){t.users=e},setHistory(t,e){t.history=e}},actions:{asyncAuth:({dispatch:t,commit:e},s)=>new Promise(function(t,a){d.a.post(`${v}/authOperator`,{key:s}).then(s=>{e("auth",s.data),t()}).catch(t=>{a(t)})}),getPackages({state:t,commit:e,dispatch:s}){d.a.post(`${v}/listPackagesWithPrices`,{key:t.password}).then(e=>{t.packages=e.data})},getUsers({state:t,commit:e}){const s={key:t.password};d.a.post(`${v}/getOperatorsUsers`,s).then(t=>{e("setUsers",t.data)})},createNewUser({dispatch:t,state:e},s){s.key=e.password,d.a.post(`${v}/createAccount`,s).then(()=>{t("getUsers")})},updateUser({dispatch:t,state:e},s){s.key=e.password,console.log(s),d.a.post(`${v}/operatorUpdateUser`,s).then(()=>{t("getUsers")})},getHistory({commit:t,state:e}){d.a.post(`${v}/userHistory`,{key:e.password}).then(e=>{t("setHistory",e.data)})}}});var f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{dark:""}},[e("v-toolbar",{staticClass:"deep-orange",attrs:{dense:"",app:"",flat:""}},[e("v-toolbar-items",[e("v-btn",{attrs:{flat:"",to:"/packages"}},[this._v("packages")]),this._v(" "),e("v-btn",{attrs:{flat:"",to:"/users"}},[this._v("users")])],1)],1),this._v(" "),e("v-container",{attrs:{fluid:"","fill-height":""}},[e("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[e("router-view")],1)],1)],1)},staticRenderFns:[]};var h=s("VU/8")({data:function(){return{}},created:function(){this.$store.dispatch("getPackages"),this.$store.dispatch("getUsers"),this.$store.dispatch("getHistory")}},f,!1,function(t){s("9x/0")},null,null).exports,x=s("Dd8w"),m=s.n(x),k={data:function(){return{activePackage:null,activeOperator:null,headers:[{text:"ID",value:"id"},{text:"Name",value:"name"},{text:"Price",value:"price"}],channels:[]}},computed:m()({},Object(u.b)({packages:function(t){return t.packages||[]}}))},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[s("v-flex",{attrs:{xs12:""}},[s("v-flex",{attrs:{xs12:"","text-xs-right":""}}),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-card",[s("v-container",{attrs:{fluid:"","grid-list-lg":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("h1",{staticClass:"text-xs-center title"},[t._v("Packages")])]),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-data-table",{staticClass:"elevation-0",attrs:{headers:t.headers,items:t.packages},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.id))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.price))])]}}])})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var g=s("VU/8")(k,_,!1,function(t){s("fffz")},null,null).exports,b={data:function(){return{headers:[{text:"ID",value:"id"},{text:"name",value:"name"},{text:"stbId",value:"uuid"},{text:"version",value:"version"},{text:"apkUrl",value:"apkUrl"},{text:"Status",value:"status"},{text:"package ID",value:"packageId"},{text:"",value:"",width:"100",sortable:!1}],subHeaders:[{text:"Start",value:"createdAt"},{text:"End",value:"updatedAt"},{text:"Status",value:"status"},{text:"Package Id",value:"packageId"}],search:null}},methods:{getHistory:function(t){return this.history.filter(function(e){return e.userId===t})}},computed:m()({},Object(u.b)({users:function(t){return t.users},history:function(t){return t.history}})),mounted:function(){console.log(this.users)}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{attrs:{xs12:""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs10:""}},[s("v-text-field",{attrs:{label:"Search","solo-inverted":"","append-icon":"search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:"","text-xs-right":""}},[s("v-btn",{attrs:{flat:"",color:"success",to:"/users/new"}},[t._v("new User")])],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-data-table",{staticClass:"elevation-1",attrs:{dark:"",headers:t.headers,items:t.users,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[s("tr",{on:{click:function(t){e.expanded=!e.expanded}}},[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.id))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.uuid))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.version))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.apkUrl))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[e.item.status?s("v-icon",{attrs:{color:"success"}},[t._v("done")]):s("v-icon",{attrs:{color:"error"}},[t._v("clear")])],1),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.packageId))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[s("v-btn",{attrs:{flat:"",small:"",to:"/users/edit/"+e.item.id}},[s("v-icon",{attrs:{color:"warning"}},[t._v("edit")])],1)],1)])]}},{key:"expand",fn:function(e){return[s("v-card",{attrs:{flat:"",light:""}},[s("v-container",{attrs:{fluid:""}},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.subHeaders,items:t.getHistory(e.item.id),"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.createdAt))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.updatedAt))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.status))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.packageId))])]}}])})],1)],1)]}}])})],1)],1)],1)},staticRenderFns:[]};var y=s("VU/8")(b,w,!1,function(t){s("etfh")},null,null).exports,U={data:function(){return{name:null,pin:null,packageId:null,status:null,uuid:null,version:null,apkUrl:null,statusENUM:["ACTIVE","INACTIVE"]}},methods:{submit:function(){var t=this;if(this.$refs.form.validate()){var e={name:this.name,operatorId:this.operator.id,packageId:this.packageId,pin:this.pin,version:this.version,apkUrl:this.apkUrl,uuid:this.uuid,status:"ACTIVE"==this.status};this.$store.dispatch("createNewUser",e).then(function(){t.name=null,t.$router.go(-1)})}}},computed:m()({},Object(u.b)({packages:function(t){return t.packages||[]},operator:function(t){return t.operator}}))},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[s("v-flex",{attrs:{xs12:"",md6:""}},[s("h1",{staticClass:"text-xs-center title"},[t._v(" Create new user")]),t._v(" "),s("v-form",{ref:"form"},[s("v-layout",{staticClass:"mt-5",attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Name","solo-inverted":"",rules:[function(t){return!!t||"Required"}]},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"stbId","solo-inverted":"",rules:[function(t){return!!t||"Required"}]},model:{value:t.uuid,callback:function(e){t.uuid=e},expression:"uuid"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"PIN",hint:"password for 18+ channels","solo-inverted":"",rules:[function(t){return!!t||"Required"}]},model:{value:t.pin,callback:function(e){t.pin=e},expression:"pin"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Version","solo-inverted":"",rules:[function(t){return!!t||"Required"}]},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"apkUrl","solo-inverted":"",rules:[function(t){return!!t||"Required"}]},model:{value:t.apkUrl,callback:function(e){t.apkUrl=e},expression:"apkUrl"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-select",{attrs:{label:"Packages",items:t.packages,"item-text":"name","item-value":"id",rules:[function(t){return!!t||"Required"}],"solo-inverted":""},model:{value:t.packageId,callback:function(e){t.packageId=e},expression:"packageId"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-select",{attrs:{label:"Status",items:t.statusENUM,rules:[function(t){return!!t||"Required"}],"solo-inverted":""},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-btn",{staticClass:"mx-0 my-0 ml-2",staticStyle:{"min-height":"48px"},attrs:{block:"",color:"success",flat:""},on:{click:t.submit}},[t._v("send")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var I=s("VU/8")(U,C,!1,function(t){s("KtiA")},null,null).exports,A={props:{id:{Required:!0}},data:function(){return{name:null,pin:null,packageId:null,version:null,apkUrl:null,status:null,uuid:null,statusENUM:["ACTIVE","INACTIVE"]}},methods:{init:function(){console.log(this.user),this.name=this.user.name,this.pin=this.user.pin,this.version=this.user.version,this.apkUrl=this.user.apkUrl,this.packageId=this.user.packageId,this.status=1==this.user.status?"ACTIVE":"INACTIVE",this.uuid=this.user.uuid},submit:function(){var t=this;if(this.$refs.form.validate()){var e={id:this.id,name:this.name,packageId:this.packageId,operatorId:this.operator.id,pin:this.pin,version:this.version,apkUrl:this.apkUrl,uuid:this.uuid,status:"ACTIVE"==this.status?1:0};this.$store.dispatch("updateUser",e).then(function(){t.name=null,t.$router.go(-1)})}}},computed:m()({user:function(){var t=this;return this.users.find(function(e){return e.id==t.id})}},Object(u.b)({operator:function(t){return t.operator},packages:function(t){return t.packages},users:function(t){return t.users}})),mounted:function(){this.init()}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[s("v-flex",{attrs:{xs12:"",md6:""}},[s("h1",{staticClass:"text-xs-center title"},[t._v(" Create new user")]),t._v(" "),s("v-form",{ref:"form"},[s("v-layout",{staticClass:"mt-5",attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Name","solo-inverted":"",rules:[function(t){return!!t||"Required"}]},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"stbId","solo-inverted":"",rules:[function(t){return!!t||"Required"}]},model:{value:t.uuid,callback:function(e){t.uuid=e},expression:"uuid"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Version","solo-inverted":"",rules:[function(t){return!!t||"Required"}]},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"apkUrl","solo-inverted":"",rules:[function(t){return!!t||"Required"}]},model:{value:t.apkUrl,callback:function(e){t.apkUrl=e},expression:"apkUrl"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"PIN",hint:"password for 18+ channels","solo-inverted":"",rules:[function(t){return!!t||"Required"}]},model:{value:t.pin,callback:function(e){t.pin=e},expression:"pin"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-select",{attrs:{label:"Packages",items:t.packages,"item-text":"name","item-value":"id",rules:[function(t){return!!t||"Required"}],"solo-inverted":""},model:{value:t.packageId,callback:function(e){t.packageId=e},expression:"packageId"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-select",{attrs:{label:"Status",items:t.statusENUM,rules:[function(t){return!!t||"Required"}],"solo-inverted":""},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1)],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-btn",{staticClass:"mx-0 my-0 ml-2",staticStyle:{"min-height":"48px"},attrs:{block:"",color:"success",flat:""},on:{click:t.submit}},[t._v("send")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var $=s("VU/8")(A,R,!1,function(t){s("AR/V")},null,null).exports;a.default.use(i.a);var E=new i.a({routes:[{path:"/auth",name:"Auth",component:o},{path:"/",name:"Dashboard",component:h,beforeEnter:function(t,e,s){p.state.auth?s():s("/auth")},children:[{path:"packages",name:"packages",component:g},{path:"users",component:y},{path:"users/new",component:I},{path:"users/edit/:id",props:!0,component:$},{path:"*",component:g}]}]}),V=s("3EgV"),P=s.n(V),q=s("sUu7");s("7zck");a.default.use(q.a),a.default.use(P.a,{theme:{primary:"#FF6D00"}}),a.default.config.productionTip=!1,new a.default({el:"#app",router:E,store:p,components:{App:n},template:"<App/>"})},etfh:function(t,e){},fffz:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7a650bd6342505028edb.js.map